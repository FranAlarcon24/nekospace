server.address=0.0.0.0
server.port=${PORT:8080}


# Configuración de la base de datos
# Order of precedence:
# 1) SPRING_DATASOURCE_URL (explicit JDBC URL)
# 2) DATABASE_URL (platform-provided URL, can be postgres:// or mysql://)
# 3) Fallback to local Postgres JDBC (for local dev only)
spring.datasource.url=${SPRING_DATASOURCE_URL:${DATABASE_URL:jdbc:postgresql://localhost:5432/demo}}
spring.datasource.username=${DATABASE_USERNAME:demo}
spring.datasource.password=${DATABASE_PASSWORD:example}
# Let Spring Boot infer driver from the JDBC URL; override only if necessary
spring.datasource.driver-class-name=${DATABASE_DRIVER:org.postgresql.Driver}
# Let Hibernate detect the database platform/dialect from the JDBC URL unless explicitly set.
# Optionally set `JPA_DATABASE_PLATFORM` env var to force a dialect.
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# Hikari SSL mode (useful for Render Postgres). Override with DB_SSLMODE if needed.
spring.datasource.hikari.data-source-properties.sslmode=${DB_SSLMODE:require}


# Configuración de Swagger/OpenAPI
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/doc/swagger-ui.html


# Configuración de Jackson
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

# Security defaults for development
spring.security.user.name=devuser
spring.security.user.password=devpass


